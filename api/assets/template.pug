doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1.0, viewport-fit=cover')
    meta(property='og:site_name' content='Ã“renle')
    meta(property='og:type' content='website')
    meta(property='og:title' content='Ã“renle p***s, ya es...')
    meta(property='og:image' content='https://orenle.vercel.app/orenle.png')
    meta(property='og:description' content='Descubre quÃ© dÃ­a es hoy sin que se te olvide')
    meta(property='og:url' content='https://orenle.vercel.app')
    meta(property='og:audio' content=`https://orenle.vercel.app/audio?q=${day}`)
    link(rel='icon' href='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“£</text></svg>')
    link(rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Raleway:wght@300&family=Nunito:wght@700&display=swap')
    title Ã“renle
    style(type='text/css').
        html {
            background-color: #8BC6EC;
            background-image: linear-gradient(135deg, #8BC6EC 31%, #9599E2 100%);
            font-family: 'Nunito', sans-serif;
            font-size: 2vw;
        }
        @media (max-width: 700px) {
            html {
                font-size: 25px;
            }
        }
        body {
            margin: 0;
            align-items: center;
            height: 100vh;
            text-align: center;
            display: grid;
            grid-template-columns: auto;
            grid-template-rows: auto max-content;
        }
        h1 {
            color: white;
            margin-right: 0.5rem;
            margin-left: 0.5rem;
            text-shadow: 3px 3px 7px black;
        }
        button {
            font-family: 'Raleway', sans-serif;
            margin-right: 0.5rem;
            margin-left: 0.5rem;
            font-size: 1rem;
            border-radius: 50px;
            border: none;
            padding: .2em .8em;
            color: white;
            cursor: pointer;
            outline: none;
            background-size: 200% auto;
            background-image: linear-gradient(to right, #314755 0%, #26a0da  51%, #314755  100%);
            box-shadow: 2px 2px 5px black;
        }
        button:active {
            background-image: linear-gradient(315deg, #8BC6EC 31%, #9599E2 100%);
        }
        button:hover {
            transform: scale(1.05);
            transition: 0.2s ease-in;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0.5rem 0;
            display: flex;
            justify-content: center;
        }
        li {
            margin: 0 1rem;
        }
        @keyframes heartbeat {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.8);
            }
        }
        #icon {
            display: inline-block;
        }
        .playing {
            animation-duration: 0.5s;
            animation-name: heartbeat;
            animation-iteration-count: infinite;
            animation-direction: alternate;
        }

  body
    article
        h1 QuÃ© dÃ­a es hoy?
        button#listen(onclick='start()') Escuchar #[span#icon ðŸ“£]
    ul
        li(title='github')
            a(href='https://github.com/pouyio/orenle' target='_blank')
                svg(xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24')
                    path(d='M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z')
        li(title='api')
            a(href='./audio' target='_blank')
                svg(xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24')
                    path(d='M18.586 10.081c-1.439 0-1.35 2.802-2.029 4.071-.114.211-.425.184-.5-.044-.771-2.364-.419-8.108-2.51-8.108-2.189 0-1.648 7.433-2.5 10.462-.063.23-.381.25-.474.028-.9-2.161-.799-6.875-2.502-6.875-1.762 0-1.612 3.949-2.302 5.54-.091.213-.392.22-.493.01-.503-1.049-.664-3.165-2.564-3.165h-2.213c-.275 0-.499.224-.499.499s.224.501.499.501h2.213c1.572 0 1.038 3.484 2.854 3.484 1.684 0 1.502-3.79 2.223-5.47.088-.208.382-.202.466.006.805 2.047.79 6.98 2.641 6.98 2.077 0 1.337-7.856 2.443-10.621.083-.211.384-.222.479-.012 1.029 2.25.487 8.126 2.344 8.126 1.639 0 1.737-2.706 2.23-4.038.081-.212.373-.227.474-.027.516 1.001.846 2.572 2.4 2.572h2.235c.275 0 .499-.224.499-.499 0-.276-.224-.5-.499-.5h-2.235c-1.323 0-1.117-2.92-2.68-2.92z')
    script.
        const button = document.getElementById('icon');
        const urlParams = new URLSearchParams(window.location.search);
        const q = urlParams.get("q") || "#{day}";
        const sound = new Audio(`/audio?q=${q}`);
        sound.loop = false;
        sound.onplay = () => {
            button.classList.add('playing');
        }
        sound.onended = () => {
            button.classList.remove('playing');
        }
        const start = () => {
            sound.play();
        };

